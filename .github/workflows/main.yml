name: Sync to Huawei CodeArts Repo

on:
  push:
    branches: [main] # 仅在 main 分支发生 push 时触发

jobs:
  sync:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout source code
        uses: actions/checkout@v3
        with:
          fetch-depth: 0 # 获取所有历史记录

      - name: Sync to CodeArts Repo
        run: |
          git remote add codearts https://hid_nk3_y25vsaemjg4:mo5JsF7iMdcsHRb4QERXBGhC@${https://codehub-cn-south-1.devcloud.huaweicloud.com/4dbd6f39d1f0440e8544d9511d5ac29e/ufun-website.git#https://}
          git push codearts main:main
